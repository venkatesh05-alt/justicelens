<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JusticeLensAI - Multilingual Legal Advisor</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body {
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #0f0f0f, #1a1a1a 60%, #2b2b2b);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.chat-container {
  max-width:520px;
  width:95%;
  background: rgba(20, 20, 20, 0.85);
  border-radius:20px;
  box-shadow:0 8px 40px rgba(0,0,0,0.6);
  padding:28px;
  display:flex;
  flex-direction:column;
  backdrop-filter: blur(10px);
}
.chat-header {
  text-align:center;
  font-size:1.7rem;
  margin-bottom:12px;
  color:#ffb84d;
  font-family: 'Georgia', serif;
}
.chatbox {
  width:100%;
  min-height:260px;
  background:rgba(34,34,34,0.9);
  border-radius:16px;
  padding:16px;
  margin-bottom:14px;
  overflow-y:auto;
}
.chat-message { margin-bottom:14px; display:flex; }
.msg-bubble {
  max-width:78%;
  padding:12px 16px;
  border-radius:16px;
  font-size:1em;
  line-height:1.4em;
}
.user-msg { justify-content:flex-end; }
.user-msg .msg-bubble {
  background:linear-gradient(135deg,#ff8800,#ffbb33);
  color:#fff;
}
.ai-msg { justify-content:flex-start; }
.ai-msg .msg-bubble {
  background:#2d2d2d;
  color:#ffdf70;
}
.input-row { display:flex; align-items:center; margin-top:10px; }
.chat-input {
  flex:1;
  padding:12px 16px;
  border-radius:10px;
  border:none;
  background:#2a2a2a;
  color:#fff;
  margin-right:10px;
}
.voice-btn {
  padding:12px;
  border:none;
  border-radius:50%;
  background:linear-gradient(135deg,#ff8800,#ffb84d);
  color:#fff;
  font-size:1.2em;
  cursor:pointer;
}
.language-select {
  margin-bottom:12px;
  padding:8px;
  border-radius:8px;
  border:none;
  background:#333;
  color:white;
  font-size:0.9em;
}
</style>
</head>
<body>
<div class="chat-container">
  <div class="chat-header"><i class="fas fa-gavel"></i> JusticeLensAI тЪЦя╕П<br>
  <small>тАЬJustice Delayed = Justice DeniedтАЭ</small></div>

  <!-- Language Selector -->
  <select id="language" class="language-select">
    <option value="en-US">ЁЯЗмЁЯЗз English</option>
    <option value="hi-IN">ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА</option>
    <option value="ta-IN">ЁЯЗоЁЯЗ│ родрооро┐ро┤рпН</option>
    <option value="te-IN">ЁЯЗоЁЯЗ│ р░др▒Жр░▓р▒Бр░Чр▒Б</option>
  </select>

  <div class="chatbox" id="chatbox"></div>

  <div class="input-row">
    <input type="text" id="chat-input" class="chat-input" placeholder="Ask your legal question..." autocomplete="off" />
    <button class="voice-btn" id="start-voice"><i class="fas fa-microphone"></i></button>
  </div>
</div>

<script>
const chatbox = document.getElementById('chatbox');
const chatInput = document.getElementById('chat-input');
const startVoiceBtn = document.getElementById('start-voice');
const languageSelect = document.getElementById('language');

function appendMessage(text, sender) {
  const msgDiv = document.createElement('div');
  msgDiv.className = `chat-message ${sender}-msg`;
  const bubble = document.createElement('div');
  bubble.className = 'msg-bubble';
  bubble.innerHTML = text;
  msgDiv.appendChild(bubble);
  chatbox.appendChild(msgDiv);
  chatbox.scrollTop = chatbox.scrollHeight;
}

// Dummy multilingual answers
function getDummyLegalAnswer(question, lang) {
  question = question.toLowerCase();

  // English
  if(lang === "en-US") {
    if(question.includes("theft")) return "тЪЦя╕П Theft under IPC Section 378 is punishable. Report immediately.";
    if(question.includes("divorce")) return "ЁЯСйтАНтЪЦя╕П Divorce is under Hindu Marriage Act or Special Marriage Act.";
    if(question.includes("rights")) return "тЪЦя╕П Citizens have fundamental rights under the Indian Constitution.";
    return "Please consult a licensed advocate for more details.";
  }

  // Hindi
  if(lang === "hi-IN") {
    if(question.includes("рдЪреЛрд░реА")) return "тЪЦя╕П IPC рдзрд╛рд░рд╛ 378 рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЪреЛрд░реА рджрдВрдбрдиреАрдп рд╣реИред рддреБрд░рдВрдд рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВред";
    if(question.includes("рддрд▓рд╛рдХ")) return "ЁЯСйтАНтЪЦя╕П рддрд▓рд╛рдХ рд╣рд┐рдВрджреВ рд╡рд┐рд╡рд╛рд╣ рдЕрдзрд┐рдирд┐рдпрдо рдпрд╛ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рд╡рд╛рд╣ рдЕрдзрд┐рдирд┐рдпрдо рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЖрддрд╛ рд╣реИред";
    if(question.includes("рдЕрдзрд┐рдХрд╛рд░")) return "тЪЦя╕П рд╣рд░ рдирд╛рдЧрд░рд┐рдХ рдХреЛ рдореМрд▓рд┐рдХ рдЕрдзрд┐рдХрд╛рд░ рднрд╛рд░рддреАрдп рд╕рдВрд╡рд┐рдзрд╛рди рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реИрдВред";
    return "рдХреГрдкрдпрд╛ рдХрд┐рд╕реА рд╡рдХреАрд▓ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред";
  }

  // Tamil
  if(lang === "ta-IN") {
    if(question.includes("родро┐ро░рпБроЯрпНроЯрпБ")) return "тЪЦя╕П IPC рокро┐ро░ро┐ро╡рпБ 378 рокроЯро┐ родро┐ро░рпБроЯрпНроЯрпБ родрогрпНроЯройрпИроХрпНроХрпБро░ро┐ропродрпБ.";
    if(question.includes("ро╡ро┐ро╡ро╛роХро░родрпНродрпБ")) return "ЁЯСйтАНтЪЦя╕П ро╡ро┐ро╡ро╛роХро░родрпНродрпБ роЗроирпНродрпБ родро┐ро░рпБроорог роЪроЯрпНроЯроорпН роЕро▓рпНро▓родрпБ роЪро┐ро▒рокрпНрокрпБ родро┐ро░рпБроорог роЪроЯрпНроЯродрпНродро┐ройрпН роХрпАро┤рпН роЙро│рпНро│родрпБ.";
    if(question.includes("роЙро░ро┐роорпИроХро│рпН")) return "тЪЦя╕П роЗроирпНродро┐роп роЕро░роЪро┐ропро▓роорпИрокрпНрокро┐ройрпН роХрпАро┤рпН роЕройрпИро╡ро░рпБроХрпНроХрпБроорпН роЕроЯро┐рокрпНрокроЯрпИ роЙро░ро┐роорпИроХро│рпН роЙрогрпНроЯрпБ.";
    return "роорпЗро▓рпБроорпН ро╡ро┐ро╡ро░роЩрпНроХро│рпБроХрпНроХрпБ ро╡ро┤роХрпНроХро▒ро┐роЮро░рпИ роЕрогрпБроХро╡рпБроорпН.";
  }

  // Telugu
  if(lang === "te-IN") {
    if(question.includes("р░жр▒Кр░Вр░Чр░др░ир░В")) return "тЪЦя╕П IPC р░╕р▒Жр░Хр▒Нр░╖р░ир▒Н 378 р░кр▒Нр░░р░Хр░╛р░░р░В р░жр▒Кр░Вр░Чр░др░ир░В р░╢р░┐р░Хр▒Нр░╖р░╛р░░р▒Нр░╣р░В.";
    if(question.includes("р░╡р░┐р░╡р░╛р░╣р░ор▒Бр░ир▒Бр░кр▒Б")) return "ЁЯСйтАНтЪЦя╕П р░╡р░┐р░бр░╛р░Хр▒Бр░▓р▒Б р░╣р░┐р░Вр░жр▒В р░╡р░┐р░╡р░╛р░╣ р░Ър░Яр▒Нр░Яр░В р░▓р▒Зр░жр░╛ р░кр▒Нр░░р░др▒Нр░пр▒Зр░Х р░╡р░┐р░╡р░╛р░╣ р░Ър░Яр▒Нр░Яр░В р░Хр░┐р░Вр░ж р░╡р░╕р▒Нр░др░╛р░пр░┐.";
    if(question.includes("р░╣р░Хр▒Нр░Хр▒Бр░▓р▒Б")) return "тЪЦя╕П р░кр▒Нр░░р░др░┐ р░кр▒Мр░░р▒Бр░бр░┐р░Хр░┐ р░нр░╛р░░р░д р░░р░╛р░Ьр▒Нр░пр░╛р░Вр░Чр░В р░кр▒Нр░░р░Хр░╛р░░р░В р░ор▒Мр░▓р░┐р░Х р░╣р░Хр▒Нр░Хр▒Бр░▓р▒Б р░Йр░ир▒Нр░ир░╛р░пр░┐.";
    return "р░жр░пр░Ър▒Зр░╕р░┐ р░ир▒Нр░пр░╛р░пр░╡р░╛р░жр░┐р░ир░┐ р░╕р░Вр░кр▒Нр░░р░жр░┐р░Вр░Ър░Вр░бр░┐.";
  }

  return "тЪЦя╕П Language not supported yet.";
}

function handleUserInput(text) {
  if (!text.trim()) return;
  const lang = languageSelect.value;
  appendMessage(text, 'user');
  chatInput.value = '';

  const answer = getDummyLegalAnswer(text, lang);
  appendMessage(answer, 'ai');

  const speech = new SpeechSynthesisUtterance(answer);
  speech.lang = lang;
  window.speechSynthesis.speak(speech);
}

chatInput.addEventListener('keydown', function(e){
  if(e.key === 'Enter'){
    handleUserInput(chatInput.value);
  }
});

function startVoiceChat(){
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if(!SpeechRecognition){
    appendMessage("тЭМ Voice recognition not supported.", 'ai');
    return;
  }
  const recognition = new SpeechRecognition();
  recognition.lang = languageSelect.value;
  recognition.interimResults = false;
  recognition.start();
  appendMessage("ЁЯОд Listening...", 'ai');
  recognition.onresult = function(event){
    const userText = event.results[0][0].transcript;
    appendMessage(userText, 'user');
    const answer = getDummyLegalAnswer(userText, languageSelect.value);
    appendMessage(answer, 'ai');
    const speech = new SpeechSynthesisUtterance(answer);
    speech.lang = languageSelect.value;
    window.speechSynthesis.speak(speech);
  }
}
startVoiceBtn.addEventListener("click", startVoiceChat);
</script>
</body>
</html>
